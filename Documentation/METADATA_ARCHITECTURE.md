# Metadata Architecture

## Overview
В проекте используется несколько независимых слоёв чтения тегов,
каждый со своим контрактом и областью ответственности.

## Components

### TLTagLibFile
Low-level адаптер над TagLib.
Не содержит UI-логики и не знает о потребителях данных.

### RuntimeMetadataParser
Используется для списка и плеера.
Читает минимальный набор тегов + duration.
Оптимизирован под скорость и кэширование.

### TrackTagInspector
Используется в шите «О треке».
Читает расширенный набор тегов для инспекции и редактирования.

## Invariants
- RuntimeMetadataParser и TrackTagInspector не зависят друг от друга
- TLTagLibFile — единый источник данных TagLib
- Расширение TagLib не должно ломать runtime-чтение
- Чтение и запись тегов — разные контракты
